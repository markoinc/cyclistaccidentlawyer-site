---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { resources, getResourceCategories } from '../../data/resources';

const title = "Bicycle Accident Resources & Guides";
const description = "Free resources for bicycle accident victims. Safety checklists, legal guides, state laws, and information to protect your rights.";

const breadcrumbs = [
  { name: "Home", url: "/" },
  { name: "Resources", url: "/resources" }
];

const categories = getResourceCategories();
---

<BaseLayout title={title} description={description} breadcrumbs={breadcrumbs}>
  <section class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white py-16 md:py-24">
    <div class="container-wide">
      <div class="max-w-3xl">
        <h1 class="text-4xl md:text-5xl font-extrabold mb-6">
          Bicycle Accident Resources
        </h1>
        <p class="text-xl text-gray-300">
          Free guides and resources to help you understand your rights, stay safe, and navigate the legal process after a bicycle accident.
        </p>
      </div>
    </div>
  </section>

  <section class="py-16">
    <div class="container-wide">
      {categories.map(category => (
        <div class="mb-12">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">{category}</h2>
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            {resources.filter(r => r.category === category).map(resource => (
              <a 
                href={`/resources/${resource.slug}`}
                class="bg-white rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg hover:border-primary-500 transition group"
              >
                <h3 class="text-lg font-bold text-gray-900 mb-2 group-hover:text-primary-600 transition">
                  {resource.title}
                </h3>
                <p class="text-gray-600 text-sm line-clamp-3">
                  {resource.description}
                </p>
                <div class="mt-4 text-primary-600 font-medium flex items-center gap-2 text-sm">
                  Read Guide
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </div>
              </a>
            ))}
          </div>
        </div>
      ))}
    </div>
  </section>

  <section class="bg-primary-600 py-12">
    <div class="container-wide text-center">
      <h2 class="text-2xl font-bold text-white mb-4">
        Need Personalized Legal Help?
      </h2>
      <p class="text-primary-100 mb-6 max-w-2xl mx-auto">
        These resources provide general information. For advice specific to your case, consult with an experienced bicycle accident attorney.
      </p>
      <a href="/free-consultation" class="btn bg-white hover:bg-gray-100 text-primary-600 font-bold px-8 py-4">
        Get Free Case Review
      </a>
    </div>
  </section>
</BaseLayout>
